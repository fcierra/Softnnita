<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE hibernate-mapping
  PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
  "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping package="co.isoft.nnita.profile.configuration.hibernate">
	<!--QUERIES-->

    <!-- Consulta para obtener el tiempo promedio en sala de espera -->
	<query name="consultaTiempoPromedioSalaEspera">
	  	<![CDATA[
	  		select avg(tt.duracion) from TiempoTurno tt where
	  		   tt.horaInicial between :FECHA_INICIAL and :FECHA_FINAL and
	  		   tt.turno.sucursal   =:SUCURSAL_PARAM  and
	  		   tt.tipoTiempo.id    =:ID_TIPO_TIEMPO  and
	  		   tt.turno.tipoTurno  =:TIPO_TURNO
	  	 ]]>
	</query>

</hibernate-mapping>